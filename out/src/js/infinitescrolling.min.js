var gw_oxid_infinitescrolling_ajax_loading=false;var gw_oxid_infinitescrolling_images_to_unveil=[];(function(a){a(window.jQuery,window,document)}(function(c,b,a){c(function(){if(typeof gw_oxid_infinitescrolling_scrollpagesamount==="undefined"){console.log("gw_oxid_infinitescrolling_scrollpagesamount is not set - infinite scrolling will not work properly");return false}c("#list-functions-bottom,.pagination").hide();function f(){next_page_url="";next_page_title="";if(c(".gw_oxid_infinitescrolling-next-page").length>0){next_page_url=c(".gw_oxid_infinitescrolling-next-page").attr("href")}gw_oxid_infinitescrolling_ajax_loading=true;loading_delay=0;c.get(next_page_url,function(g){next_page_title=c(g).filter("title").text();$items_to_add=c(g).find("#productList");$new_next_page_link=c(g).find(".gw_oxid_infinitescrolling-next-page");$items_to_add.find(".productBox").each(function(){var h=c("#productList");c(this).hide();if(h.length>0){var i=c(this).find("img");i.unveil();gw_oxid_infinitescrolling_images_to_unveil.push(i);h.append(c(this))}c(this).delay(loading_delay+=50).slideDown(400)});c(".gw_oxid_infinitescrolling-next-page").replaceWith($new_next_page_link);gw_oxid_infinitescrolling_ajax_loading=false}).done(function(){e(next_page_url,next_page_title)})}function d(){prev_page_url="";if(c(".gw_oxid_infinitescrolling-prev-page").length>0){prev_page_url=c(".gw_oxid_infinitescrolling-prev-page").attr("href")}gw_oxid_infinitescrolling_ajax_loading=true;loading_delay=0;c.get(prev_page_url,function(g){prev_page_title=c(g).filter("title").text();$items_to_add=c(g).find("#productList");$new_prev_page_link=c(g).find(".gw_oxid_infinitescrolling-prev-page");$items_to_add.find(".productBox").each(function(){var h=c("#productList");c(this).hide();if(h.length>0){var i=c(this).find("img");i.unveil();gw_oxid_infinitescrolling_images_to_unveil.push(i);h.prepend(c(this))}c(this).delay(loading_delay+=50).slideDown(400)});c(".gw_oxid_infinitescrolling-prev-page").replaceWith($new_prev_page_link);gw_oxid_infinitescrolling_ajax_loading=false}).done(function(){e(prev_page_url,prev_page_title)})}function e(h,g){c.event.trigger({type:"infiniteScrollingDone",pagetitle:g,url:h,time:new Date()})}c(b).on("infiniteScrollingDone",function(h){var g={};history.pushState(g,h.pagetitle,h.url);console.log(h);c.each(gw_oxid_infinitescrolling_images_to_unveil,function(){c(this).trigger("unveil")});gw_oxid_infinitescrolling_images_to_unveil=[]});c(b).scroll(function(){scroll_trigger_position=c("#scroll-trigger").position();if(scroll_trigger_position.top<(c(a).scrollTop()+c(b).height()-75)&&!gw_oxid_infinitescrolling_ajax_loading&&typeof next_page_url!=="undefined"&&next_page_url!=""){}});c(a).on("click",".gw_oxid_infinitescrolling-prev-page",function(g){d();return false});c(a).on("click",".gw_oxid_infinitescrolling-next-page",function(g){f();return false})})}));